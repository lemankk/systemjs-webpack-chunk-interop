{"version":3,"file":"inject.js","sources":["../src/webpack-plugin.js"],"sourcesContent":["import InjectPlugin from 'webpack-inject-plugin';\n\nfunction loader(options) {\n  return () => {\n    const { shared = [], systemJsInstanceName = \"System\", embedSystemJs = true, extras = ['amd','named-exports','transform'] } = options;\n\n    // Creating \n    // Remark: arrow function is not supported in IE\n    const packageMaps = shared.map((packageName) => {\n      return `\"${packageName}\": function() {return import(\"${packageName}\");}`;\n    })\n    \n    return `     \n${ !!embedSystemJs && 'require(\"systemjs/dist/system\");'}\n${ !!embedSystemJs && !!extras && extras.length >0 && extras.map( extraName => `require(\"systemjs/dist/extras/${extraName}\");`).join(\"\\n\")}\nrequire(\"${__package_name__}\");\n\nvar imports = {\n${packageMaps.join(\",\\n\")}\n};\n\n${systemJsInstanceName}.appendImportMap(imports);\n    `;\n  };\n}\n \nexport default class SystemJsWebpackChunkInteropPlugin {\n  constructor(options) {\n    this.options = options;\n  }\n \n  apply(compiler) {\n    new InjectPlugin(loader(this.options)).apply(compiler);\n  }\n}"],"names":["loader","options","shared","systemJsInstanceName","embedSystemJs","extras","packageMaps","map","packageName","length","extraName","join","__package_name__","SystemJsWebpackChunkInteropPlugin","compiler","InjectPlugin","apply"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA,SAASA,MAAT,CAAgBC,OAAhB,EAAyB;AACvB,SAAO,YAAM;AAAA,0BACkHA,OADlH,CACHC,MADG;AAAA,QACHA,MADG,gCACM,EADN;AAAA,gCACkHD,OADlH,CACUE,oBADV;AAAA,QACUA,oBADV,sCACiC,QADjC;AAAA,gCACkHF,OADlH,CAC2CG,aAD3C;AAAA,QAC2CA,aAD3C,sCAC2D,IAD3D;AAAA,0BACkHH,OADlH,CACiEI,MADjE;AAAA,QACiEA,MADjE,gCAC0E,CAAC,KAAD,EAAO,eAAP,EAAuB,WAAvB,CAD1E;AAIX;;AACA,QAAMC,WAAW,GAAGJ,MAAM,CAACK,GAAP,CAAW,UAACC,WAAD,EAAiB;AAC9C,yBAAWA,WAAX,6CAAuDA,WAAvD;AACD,KAFmB,CAApB;AAIA,4BACD,CAAC,CAACJ,aAAF,IAAmB,kCADlB,eAED,CAAC,CAACA,aAAF,IAAmB,CAAC,CAACC,MAArB,IAA+BA,MAAM,CAACI,MAAP,GAAe,CAA9C,IAAmDJ,MAAM,CAACE,GAAP,CAAY,UAAAG,SAAS;AAAA,sDAAqCA,SAArC;AAAA,KAArB,EAA0EC,IAA1E,CAA+E,IAA/E,CAFlD,yBAGOC,8BAHP,sCAMFN,WAAW,CAACK,IAAZ,CAAiB,KAAjB,CANE,qBASFR,oBATE;AAWD,GApBD;AAqBD;;IAEoBU;AACnB,6CAAYZ,OAAZ,EAAqB;AAAA;;AACnB,SAAKA,OAAL,GAAeA,OAAf;AACD;;;;0BAEKa,UAAU;AACd,UAAIC,gCAAJ,CAAiBf,MAAM,CAAC,KAAKC,OAAN,CAAvB,EAAuCe,KAAvC,CAA6CF,QAA7C;AACD;;;;;;;;"}